---
date: 2025-05-22
category: mongodb
tag:
  - 数据库
---

# 修改数据

```js
// 选中匹配上的文档，全部修改某个字段的值
db.col.updateMany(
    { field1: "4", field2: "2" },
    { $set: { field1: "5"} }
)

// 如果需要修改的字段是一个列表
// 给数组末尾增加值
db.col.updateOne(
    { field1: "press" },
    { $push: { filed2: "userxxx"} }
)
```

# 修改字段
```js
// 设置col表中所有文档的字段，并初始化值
db.col.updateMany(
    {},
    { $set: { newFiled: 0 } }
)
// 删除col表中所有文档的字段
db.col.updateMany(
    {},
    { $unset: { newFiled: 0 } }
)

// 修改字段名
db.col.updateMany(
    {},
    { $rename: { "oldField": "newField" } }
)
```