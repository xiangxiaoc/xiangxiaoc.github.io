<!doctype html>
<html lang="zh-CN" data-theme="light">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-rc.23" />
    <meta name="theme" content="VuePress Theme Hope 2.0.0-rc.88" />
    <style>
      :root {
        --vp-c-bg: #fff;
      }

      [data-theme="dark"] {
        --vp-c-bg: #1b1b1f;
      }

      html,
      body {
        background: var(--vp-c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem("vuepress-theme-hope-scheme");
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia("(prefers-color-scheme: dark)").matches;

      if (userMode === "dark" || (userMode !== "light" && systemDarkMode)) {
        document.documentElement.setAttribute("data-theme", "dark");
      }
    </script>
    <script type="application/ld+json">{"@context":"https://schema.org","@type":"Article","headline":"logrotate - 日志文件轮转","image":[""],"datePublished":"2025-05-13T00:00:00.000Z","dateModified":"2025-05-13T14:59:32.000Z","author":[]}</script><meta property="og:url" content="https://xiangcheng.site/notes/linux/%E5%91%BD%E4%BB%A4%E8%A1%8C%E5%B7%A5%E5%85%B7/logrotate.html"><meta property="og:site_name" content="大橙的运维宝典"><meta property="og:title" content="logrotate - 日志文件轮转"><meta property="og:description" content="logrotate - 日志文件轮转"><meta property="og:type" content="article"><meta property="og:locale" content="zh-CN"><meta property="og:updated_time" content="2025-05-13T14:59:32.000Z"><meta property="article:tag" content="日志管理"><meta property="article:tag" content="Linux"><meta property="article:published_time" content="2025-05-13T00:00:00.000Z"><meta property="article:modified_time" content="2025-05-13T14:59:32.000Z"><title>logrotate - 日志文件轮转 | 大橙的运维宝典</title><meta name="description" content="logrotate - 日志文件轮转">
    <link rel="preload" href="/assets/style-B9e1IY6g.css" as="style"><link rel="stylesheet" href="/assets/style-B9e1IY6g.css">
    <link rel="modulepreload" href="/assets/app-BiJCinoJ.js"><link rel="modulepreload" href="/assets/logrotate.html-CU5RTPiP.js"><link rel="modulepreload" href="/assets/plugin-vue_export-helper-DlAUqK2U.js">
    <link rel="prefetch" href="/assets/index.html-Da15uioE.js" as="script"><link rel="prefetch" href="/assets/recommend.html-BmfuYiyg.js" as="script"><link rel="prefetch" href="/assets/intro.html-CjvDPZSL.js" as="script"><link rel="prefetch" href="/assets/site.html-D4HnokKt.js" as="script"><link rel="prefetch" href="/assets/使用 informer 监听 K8s 资源变更.html-CYT9aD51.js" as="script"><link rel="prefetch" href="/assets/容器镜像标签（Tag）使用规范.html-DX1uLutg.js" as="script"><link rel="prefetch" href="/assets/index.html-B1h9TseS.js" as="script"><link rel="prefetch" href="/assets/index.html-BO3axsxu.js" as="script"><link rel="prefetch" href="/assets/index.html-Cy2lnAav.js" as="script"><link rel="prefetch" href="/assets/index.html-CYcSKL6t.js" as="script"><link rel="prefetch" href="/assets/index.html-BahesvE2.js" as="script"><link rel="prefetch" href="/assets/ArgoCD搭建使用入门.html-Bocyawqn.js" as="script"><link rel="prefetch" href="/assets/推荐用 vscode 写 shell 的插件.html-DaCHyBVa.js" as="script"><link rel="prefetch" href="/assets/利用 gitlab-ci 的内置变量，自动生成镜像 tag.html-BvEs-NuG.js" as="script"><link rel="prefetch" href="/assets/Jenkins Pipeline 经验积累.html-BjdyjEgW.js" as="script"><link rel="prefetch" href="/assets/内置变量.html-Cclvyt2q.js" as="script"><link rel="prefetch" href="/assets/工具命令使用.html-fkUOWj5U.js" as="script"><link rel="prefetch" href="/assets/查询.html-h56MjZDo.js" as="script"><link rel="prefetch" href="/assets/argocd.html-DspigRXK.js" as="script"><link rel="prefetch" href="/assets/cobra.html-HzshWLwo.js" as="script"><link rel="prefetch" href="/assets/gin.html-DA1x1lG0.js" as="script"><link rel="prefetch" href="/assets/gorm.html-BGeEzRfs.js" as="script"><link rel="prefetch" href="/assets/实现数据结构.html-CwQSQjmd.js" as="script"><link rel="prefetch" href="/assets/常量和变量.html-9bI_aBXH.js" as="script"><link rel="prefetch" href="/assets/流程控制.html-Cl9PCV7C.js" as="script"><link rel="prefetch" href="/assets/Go 工程中的实践.html-DVoMt2Zz.js" as="script"><link rel="prefetch" href="/assets/go命令-测试.html-f820r8eE.js" as="script"><link rel="prefetch" href="/assets/go命令-环境变量.html-DL1I3Wv-.js" as="script"><link rel="prefetch" href="/assets/go命令-编译.html-BAy_H-na.js" as="script"><link rel="prefetch" href="/assets/软件包概念.html-a-01wlD3.js" as="script"><link rel="prefetch" href="/assets/EOF.html-D8_c2kcx.js" as="script"><link rel="prefetch" href="/assets/ 条件判断.html-B1O-rtkJ.js" as="script"><link rel="prefetch" href="/assets/内置变量.html-Ca0VG1FK.js" as="script"><link rel="prefetch" href="/assets/变量切片.html-B2Dfg78J.js" as="script"><link rel="prefetch" href="/assets/循环流程.html-BryKEve0.js" as="script"><link rel="prefetch" href="/assets/流程控制.html-BGEOkmaV.js" as="script"><link rel="prefetch" href="/assets/脚本参数.html-CplqeNDP.js" as="script"><link rel="prefetch" href="/assets/输出颜色.html--KjNzseU.js" as="script"><link rel="prefetch" href="/assets/awk.html-DRV6VARt.js" as="script"><link rel="prefetch" href="/assets/curl.html-CFer40EN.js" as="script"><link rel="prefetch" href="/assets/date.html-F-wfdudX.js" as="script"><link rel="prefetch" href="/assets/expect.html-BjCVGOB_.js" as="script"><link rel="prefetch" href="/assets/find.html-Cczc2o7P.js" as="script"><link rel="prefetch" href="/assets/grep.html-BKVxOrNs.js" as="script"><link rel="prefetch" href="/assets/sed.html-CK_MGA5w.js" as="script"><link rel="prefetch" href="/assets/sort uniq.html-B_iqsTCn.js" as="script"><link rel="prefetch" href="/assets/split 文件分割.html--mzCStpf.js" as="script"><link rel="prefetch" href="/assets/bind.html-CDpoMIH6.js" as="script"><link rel="prefetch" href="/assets/cronjob.html-DH-mGidI.js" as="script"><link rel="prefetch" href="/assets/dhcp.html-BTHkiFul.js" as="script"><link rel="prefetch" href="/assets/firewalld.html-Dm0IYqsG.js" as="script"><link rel="prefetch" href="/assets/lvm.html-BQHXbXsF.js" as="script"><link rel="prefetch" href="/assets/nfs.html-B6cLkJFv.js" as="script"><link rel="prefetch" href="/assets/ntp.html-CHF0RvBM.js" as="script"><link rel="prefetch" href="/assets/rsync.html-BwA-r813.js" as="script"><link rel="prefetch" href="/assets/samba.html-NlK2GW1h.js" as="script"><link rel="prefetch" href="/assets/sshd.html-BN2xrbI-.js" as="script"><link rel="prefetch" href="/assets/vsftpd.html-DCBtWWHF.js" as="script"><link rel="prefetch" href="/assets/使用通用视图.html-DwbZEcvf.js" as="script"><link rel="prefetch" href="/assets/初始教程.html-EZSmfovC.js" as="script"><link rel="prefetch" href="/assets/初始教程2.html-CsqImU2l.js" as="script"><link rel="prefetch" href="/assets/多数据库.html-B4fAd5R8.js" as="script"><link rel="prefetch" href="/assets/常用快捷方法.html-DbP3-V0d.js" as="script"><link rel="prefetch" href="/assets/开发生产配置分离.html-ttALa6yc.js" as="script"><link rel="prefetch" href="/assets/测试.html-DKmP50bV.js" as="script"><link rel="prefetch" href="/assets/cx_oracle.html-CcGKmHpW.js" as="script"><link rel="prefetch" href="/assets/pandas.html-aNXpvClF.js" as="script"><link rel="prefetch" href="/assets/paramiko.html-B9LzyyD4.js" as="script"><link rel="prefetch" href="/assets/pyfiglet.html-f032jWvX.js" as="script"><link rel="prefetch" href="/assets/pymysql.html-CsXHmic9.js" as="script"><link rel="prefetch" href="/assets/python-dotenv.html-lVFAXXr8.js" as="script"><link rel="prefetch" href="/assets/ruamel.html-BF-h2PLx.js" as="script"><link rel="prefetch" href="/assets/typer.html-DDVjRsJ9.js" as="script"><link rel="prefetch" href="/assets/ProcessPoolExecutor.html-D42ld6nf.js" as="script"><link rel="prefetch" href="/assets/ThreadPoolExecutor.html-DlHKqOfj.js" as="script"><link rel="prefetch" href="/assets/argparse 脚本参数解析.html-Buh_GBFA.js" as="script"><link rel="prefetch" href="/assets/logging.html-C7Km4Yp7.js" as="script"><link rel="prefetch" href="/assets/re 正则.html-DRQmK_u-.js" as="script"><link rel="prefetch" href="/assets/threading.html-B9IOVua-.js" as="script"><link rel="prefetch" href="/assets/time 和 datetime.html-CR7nbXWh.js" as="script"><link rel="prefetch" href="/assets/01 先把协程跑起来.html-BlgSq9Ok.js" as="script"><link rel="prefetch" href="/assets/02 协程里的任务对象.html-jjaLGtq8.js" as="script"><link rel="prefetch" href="/assets/03 创建协程包装成协程.html-BY8fljsX.js" as="script"><link rel="prefetch" href="/assets/account.html-BQ95jY_0.js" as="script"><link rel="prefetch" href="/assets/app.html-BNqVUnFo.js" as="script"><link rel="prefetch" href="/assets/cluster.html-CDJ9E8wR.js" as="script"><link rel="prefetch" href="/assets/Active Choice.html-DGyRnX4W.js" as="script"><link rel="prefetch" href="/assets/Build Name and Description Setter.html-DO1vlaSj.js" as="script"><link rel="prefetch" href="/assets/Validating String Parameter.html-BdFioNcO.js" as="script"><link rel="prefetch" href="/assets/Workspace Cleanup.html-BrGUY9Xa.js" as="script"><link rel="prefetch" href="/assets/callback 回调函数.html-C4dAHZOZ.js" as="script"><link rel="prefetch" href="/assets/init 函数.html-Cep5tlaA.js" as="script"><link rel="prefetch" href="/assets/main 函数.html-Cl4fcjaJ.js" as="script"><link rel="prefetch" href="/assets/方法 method.html-DJpc0j4Q.js" as="script"><link rel="prefetch" href="/assets/闭包 匿名函数.html-CUeWRThb.js" as="script"><link rel="prefetch" href="/assets/切片 slice.html-BUQH98L3.js" as="script"><link rel="prefetch" href="/assets/字符串 string.html-C6wXVXl3.js" as="script"><link rel="prefetch" href="/assets/指针.html-hod3dTpp.js" as="script"><link rel="prefetch" href="/assets/数组 array.html-Mqyv-zHK.js" as="script"><link rel="prefetch" href="/assets/映射 map.html-BcMJIhyV.js" as="script"><link rel="prefetch" href="/assets/404.html-C8vn5KRr.js" as="script"><link rel="prefetch" href="/assets/index.html-Ca23rl-L.js" as="script"><link rel="prefetch" href="/assets/index.html-DgDis_5W.js" as="script"><link rel="prefetch" href="/assets/index.html-BTuMKKaB.js" as="script"><link rel="prefetch" href="/assets/index.html-Dxao9plD.js" as="script"><link rel="prefetch" href="/assets/index.html-TnCUONNB.js" as="script"><link rel="prefetch" href="/assets/index.html-GbRe5asg.js" as="script"><link rel="prefetch" href="/assets/index.html-psnoKu-A.js" as="script"><link rel="prefetch" href="/assets/index.html-CzxF-iS6.js" as="script"><link rel="prefetch" href="/assets/index.html-CmU_tzVG.js" as="script"><link rel="prefetch" href="/assets/index.html-B83K6ZM1.js" as="script"><link rel="prefetch" href="/assets/index.html-BEDQQFnJ.js" as="script"><link rel="prefetch" href="/assets/index.html-BDYcESmn.js" as="script"><link rel="prefetch" href="/assets/index.html-BnPajEnu.js" as="script"><link rel="prefetch" href="/assets/index.html-8fp3FbS-.js" as="script"><link rel="prefetch" href="/assets/index.html-CN3uoUNn.js" as="script"><link rel="prefetch" href="/assets/index.html-CtfniqNs.js" as="script"><link rel="prefetch" href="/assets/index.html-CrZTSyIS.js" as="script"><link rel="prefetch" href="/assets/index.html-WP3rOkj-.js" as="script"><link rel="prefetch" href="/assets/index.html-Dq_Yz-QK.js" as="script"><link rel="prefetch" href="/assets/index.html-Ctn3u8ij.js" as="script"><link rel="prefetch" href="/assets/index.html-95YTHzUz.js" as="script"><link rel="prefetch" href="/assets/index.html-Bv-8I49v.js" as="script"><link rel="prefetch" href="/assets/index.html-Cy4fwvaX.js" as="script"><link rel="prefetch" href="/assets/index.html-Bfo44w8y.js" as="script"><link rel="prefetch" href="/assets/index.html-uzwK45ji.js" as="script"><link rel="prefetch" href="/assets/index.html-DOMwP4Z_.js" as="script"><link rel="prefetch" href="/assets/index.html-CvX6-trw.js" as="script"><link rel="prefetch" href="/assets/index.html-B0JPNJxJ.js" as="script"><link rel="prefetch" href="/assets/index.html-B8I9Ojrl.js" as="script"><link rel="prefetch" href="/assets/index.html-DrW8QUNk.js" as="script"><link rel="prefetch" href="/assets/index.html-6blTDL4F.js" as="script"><link rel="prefetch" href="/assets/index.html-Dn26QrIC.js" as="script"><link rel="prefetch" href="/assets/index.html-DShBxczV.js" as="script"><link rel="prefetch" href="/assets/index.html-CqqgBnsM.js" as="script"><link rel="prefetch" href="/assets/index.html-CvIdVF9h.js" as="script"><link rel="prefetch" href="/assets/index.html-BZ-y8uem.js" as="script"><link rel="prefetch" href="/assets/index.html-3s6nq_Pq.js" as="script"><link rel="prefetch" href="/assets/index.html-B-zQAXQX.js" as="script"><link rel="prefetch" href="/assets/index.html-BZXIRu8w.js" as="script"><link rel="prefetch" href="/assets/photoswipe.esm-DXWKOczD.js" as="script"><link rel="prefetch" href="/assets/index-B-M8YVCw.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><!--[--><!--[--><span tabindex="-1"></span><a href="#main-content" class="vp-skip-link sr-only">跳至主要內容</a><!--]--><div class="theme-container external-link-icon has-toc" vp-container><!--[--><header id="navbar" class="vp-navbar" vp-navbar><div class="vp-navbar-start"><button type="button" class="vp-toggle-sidebar-button" title="Toggle Sidebar"><span class="icon"></span></button><!--[--><a class="route-link vp-brand" href="/" aria-label="带我回家"><img class="vp-nav-logo" src="/orange_590x590.png" alt><!----><span class="vp-site-name hide-in-pad">大橙的运维宝典</span></a><!--]--></div><div class="vp-navbar-center"><!--[--><nav class="vp-nav-links"><div class="vp-nav-item hide-in-mobile"><a class="route-link auto-link" href="/" aria-label="主页"><!--[--><i class="vp-icon fas fa-home" sizing="height"></i><!--]-->主页<!----></a></div><div class="vp-nav-item hide-in-mobile"><a class="route-link auto-link" href="/article/" aria-label="博客文章"><!--[--><i class="vp-icon fas fa-file" sizing="height"></i><!--]-->博客文章<!----></a></div><div class="vp-nav-item hide-in-mobile"><div class="vp-dropdown-wrapper"><button type="button" class="vp-dropdown-title" aria-label="笔记文档"><!--[--><i class="vp-icon fas fa-book" sizing="height"></i>笔记文档<!--]--><span class="arrow"></span><ul class="vp-dropdown"><li class="vp-dropdown-item"><a class="route-link route-link-active auto-link" href="/notes/linux/" aria-label="Linux"><!--[--><img class="vp-icon" src="/assets/icon/linux.png" alt aria-hidden no-view sizing="both"><!--]-->Linux<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/notes/CICD/" aria-label="CI/CD"><!--[--><img class="vp-icon" src="/assets/icon/CICD.png" alt aria-hidden no-view sizing="both"><!--]-->CI/CD<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/notes/python/" aria-label="Python"><!--[--><img class="vp-icon" src="/assets/icon/python.png" alt aria-hidden no-view sizing="both"><!--]-->Python<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/notes/golang/" aria-label="Golang"><!--[--><img class="vp-icon" src="/assets/icon/golang.png" alt aria-hidden no-view sizing="both"><!--]-->Golang<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/notes/database/" aria-label="数据库"><!--[--><img class="vp-icon" src="/assets/icon/database.png" alt aria-hidden no-view sizing="both"><!--]-->数据库<!----></a></li></ul></button></div></div><div class="vp-nav-item hide-in-mobile"><div class="vp-dropdown-wrapper"><button type="button" class="vp-dropdown-title" aria-label="关于"><!--[--><i class="vp-icon fas fa-circle-info" sizing="height"></i>关于<!--]--><span class="arrow"></span><ul class="vp-dropdown"><li class="vp-dropdown-item"><a class="route-link auto-link" href="/about/intro.html" aria-label="关于我"><!--[--><i class="vp-icon fas fa-user fa-fw" sizing="both"></i><!--]-->关于我<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/about/site.html" aria-label="关于本站"><!--[--><i class="vp-icon fas fa-globe fa-fw" sizing="both"></i><!--]-->关于本站<!----></a></li></ul></button></div></div><div class="vp-nav-item hide-in-mobile"><a class="route-link auto-link" href="/recommend.html" aria-label="推荐"><!--[--><i class="vp-icon fas fa-link" sizing="height"></i><!--]-->推荐<!----></a></div></nav><!--]--></div><div class="vp-navbar-end"><!--[--><!----><!----><div class="vp-nav-item hide-in-mobile"><button type="button" class="vp-appearance-button" tabindex="-1" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" class="icon outlook-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="outlook icon" name="outlook"><path d="M224 800c0 9.6 3.2 44.8 6.4 54.4 6.4 48-48 76.8-48 76.8s80 41.6 147.2 0 134.4-134.4 38.4-195.2c-22.4-12.8-41.6-19.2-57.6-19.2C259.2 716.8 227.2 761.6 224 800zM560 675.2l-32 51.2c-51.2 51.2-83.2 32-83.2 32 25.6 67.2 0 112-12.8 128 25.6 6.4 51.2 9.6 80 9.6 54.4 0 102.4-9.6 150.4-32l0 0c3.2 0 3.2-3.2 3.2-3.2 22.4-16 12.8-35.2 6.4-44.8-9.6-12.8-12.8-25.6-12.8-41.6 0-54.4 60.8-99.2 137.6-99.2 6.4 0 12.8 0 22.4 0 12.8 0 38.4 9.6 48-25.6 0-3.2 0-3.2 3.2-6.4 0-3.2 3.2-6.4 3.2-6.4 6.4-16 6.4-16 6.4-19.2 9.6-35.2 16-73.6 16-115.2 0-105.6-41.6-198.4-108.8-268.8C704 396.8 560 675.2 560 675.2zM224 419.2c0-28.8 22.4-51.2 51.2-51.2 28.8 0 51.2 22.4 51.2 51.2 0 28.8-22.4 51.2-51.2 51.2C246.4 470.4 224 448 224 419.2zM320 284.8c0-22.4 19.2-41.6 41.6-41.6 22.4 0 41.6 19.2 41.6 41.6 0 22.4-19.2 41.6-41.6 41.6C339.2 326.4 320 307.2 320 284.8zM457.6 208c0-12.8 12.8-25.6 25.6-25.6 12.8 0 25.6 12.8 25.6 25.6 0 12.8-12.8 25.6-25.6 25.6C470.4 233.6 457.6 220.8 457.6 208zM128 505.6C128 592 153.6 672 201.6 736c28.8-60.8 112-60.8 124.8-60.8-16-51.2 16-99.2 16-99.2l316.8-422.4c-48-19.2-99.2-32-150.4-32C297.6 118.4 128 291.2 128 505.6zM764.8 86.4c-22.4 19.2-390.4 518.4-390.4 518.4-22.4 28.8-12.8 76.8 22.4 99.2l9.6 6.4c35.2 22.4 80 12.8 99.2-25.6 0 0 6.4-12.8 9.6-19.2 54.4-105.6 275.2-524.8 288-553.6 6.4-19.2-3.2-32-19.2-32C777.6 76.8 771.2 80 764.8 86.4z"></path></svg><div class="vp-appearance-dropdown"><!----></div></button></div><!--[--><div id="docsearch-container" style="display:none;"></div><div><button type="button" class="DocSearch DocSearch-Button" aria-label="搜索文档"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">搜索文档</span></span><span class="DocSearch-Button-Keys"><kbd class="DocSearch-Button-Key"><svg width="15" height="15" class="DocSearch-Control-Key-Icon"><path d="M4.505 4.496h2M5.505 5.496v5M8.216 4.496l.055 5.993M10 7.5c.333.333.5.667.5 1v2M12.326 4.5v5.996M8.384 4.496c1.674 0 2.116 0 2.116 1.5s-.442 1.5-2.116 1.5M3.205 9.303c-.09.448-.277 1.21-1.241 1.203C1 10.5.5 9.513.5 8V7c0-1.57.5-2.5 1.464-2.494.964.006 1.134.598 1.24 1.342M12.553 10.5h1.953" stroke-width="1.2" stroke="currentColor" fill="none" stroke-linecap="square"></path></svg></kbd><kbd class="DocSearch-Button-Key">K</kbd></span></button></div><!--]--><!--]--><button type="button" class="vp-toggle-navbar-button" aria-label="Toggle Navbar" aria-expanded="false" aria-controls="nav-screen"><span><span class="vp-top"></span><span class="vp-middle"></span><span class="vp-bottom"></span></span></button></div></header><!----><!--]--><!----><div class="toggle-sidebar-wrapper"><span class="arrow start"></span></div><aside id="sidebar" class="vp-sidebar" vp-sidebar><!----><ul class="vp-sidebar-links"><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">Shell</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable active" type="button"><!----><span class="vp-sidebar-title">命令行工具</span><span class="vp-arrow down"></span></button><ul class="vp-sidebar-links"><li><a class="route-link auto-link vp-sidebar-link" href="/notes/linux/%E5%91%BD%E4%BB%A4%E8%A1%8C%E5%B7%A5%E5%85%B7/awk.html" aria-label="awk - 按指定分隔符解析每行文本"><!---->awk - 按指定分隔符解析每行文本<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/notes/linux/%E5%91%BD%E4%BB%A4%E8%A1%8C%E5%B7%A5%E5%85%B7/curl.html" aria-label="curl - 发起 http 请求"><!---->curl - 发起 http 请求<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/notes/linux/%E5%91%BD%E4%BB%A4%E8%A1%8C%E5%B7%A5%E5%85%B7/date.html" aria-label="date - linux 中的时间处理库"><!---->date - linux 中的时间处理库<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/notes/linux/%E5%91%BD%E4%BB%A4%E8%A1%8C%E5%B7%A5%E5%85%B7/expect.html" aria-label="expect - 写脚本再也不怕交互式命令"><!---->expect - 写脚本再也不怕交互式命令<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/notes/linux/%E5%91%BD%E4%BB%A4%E8%A1%8C%E5%B7%A5%E5%85%B7/find.html" aria-label="find - linux 查找文件神器"><!---->find - linux 查找文件神器<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/notes/linux/%E5%91%BD%E4%BB%A4%E8%A1%8C%E5%B7%A5%E5%85%B7/grep.html" aria-label="grep - 行文本过滤"><!---->grep - 行文本过滤<!----></a></li><li><a class="route-link route-link-active auto-link vp-sidebar-link active" href="/notes/linux/%E5%91%BD%E4%BB%A4%E8%A1%8C%E5%B7%A5%E5%85%B7/logrotate.html" aria-label="logrotate - 日志文件轮转"><!---->logrotate - 日志文件轮转<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/notes/linux/%E5%91%BD%E4%BB%A4%E8%A1%8C%E5%B7%A5%E5%85%B7/sed.html" aria-label="sed - 行文本修改"><!---->sed - 行文本修改<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/notes/linux/%E5%91%BD%E4%BB%A4%E8%A1%8C%E5%B7%A5%E5%85%B7/sort%20uniq.html" aria-label="sort uniq - 多个大文件合并去重"><!---->sort uniq - 多个大文件合并去重<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/notes/linux/%E5%91%BD%E4%BB%A4%E8%A1%8C%E5%B7%A5%E5%85%B7/split%20%E6%96%87%E4%BB%B6%E5%88%86%E5%89%B2.html" aria-label="split - 大文件分割"><!---->split - 大文件分割<!----></a></li></ul></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">应用服务</span><span class="vp-arrow end"></span></button><!----></section></li></ul><!----></aside><!--[--><main id="main-content" class="vp-page"><!--[--><!----><!----><nav class="vp-breadcrumb disable"></nav><div class="vp-page-title"><h1><!---->logrotate - 日志文件轮转</h1><div class="page-info"><!----><!----><span class="page-date-info" aria-label="写作日期📅" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon calendar-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="calendar icon" name="calendar"><path d="M716.4 110.137c0-18.753-14.72-33.473-33.472-33.473-18.753 0-33.473 14.72-33.473 33.473v33.473h66.993v-33.473zm-334.87 0c0-18.753-14.72-33.473-33.473-33.473s-33.52 14.72-33.52 33.473v33.473h66.993v-33.473zm468.81 33.52H716.4v100.465c0 18.753-14.72 33.473-33.472 33.473a33.145 33.145 0 01-33.473-33.473V143.657H381.53v100.465c0 18.753-14.72 33.473-33.473 33.473a33.145 33.145 0 01-33.473-33.473V143.657H180.6A134.314 134.314 0 0046.66 277.595v535.756A134.314 134.314 0 00180.6 947.289h669.74a134.36 134.36 0 00133.94-133.938V277.595a134.314 134.314 0 00-133.94-133.938zm33.473 267.877H147.126a33.145 33.145 0 01-33.473-33.473c0-18.752 14.72-33.473 33.473-33.473h736.687c18.752 0 33.472 14.72 33.472 33.473a33.145 33.145 0 01-33.472 33.473z"></path></svg><span data-allow-mismatch="text">2025/5/13</span><meta property="datePublished" content="2025-05-13T00:00:00.000Z"></span><!----><span class="page-reading-time-info" aria-label="阅读时间⌛" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon timer-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="timer icon" name="timer"><path d="M799.387 122.15c4.402-2.978 7.38-7.897 7.38-13.463v-1.165c0-8.933-7.38-16.312-16.312-16.312H256.33c-8.933 0-16.311 7.38-16.311 16.312v1.165c0 5.825 2.977 10.874 7.637 13.592 4.143 194.44 97.22 354.963 220.201 392.763-122.204 37.542-214.893 196.511-220.2 389.397-4.661 5.049-7.638 11.651-7.638 19.03v5.825h566.49v-5.825c0-7.379-2.849-13.981-7.509-18.9-5.049-193.016-97.867-351.985-220.2-389.527 123.24-37.67 216.446-198.453 220.588-392.892zM531.16 450.445v352.632c117.674 1.553 211.787 40.778 211.787 88.676H304.097c0-48.286 95.149-87.382 213.728-88.676V450.445c-93.077-3.107-167.901-81.297-167.901-177.093 0-8.803 6.99-15.793 15.793-15.793 8.803 0 15.794 6.99 15.794 15.793 0 80.261 63.69 145.635 142.01 145.635s142.011-65.374 142.011-145.635c0-8.803 6.99-15.793 15.794-15.793s15.793 6.99 15.793 15.793c0 95.019-73.789 172.82-165.96 177.093z"></path></svg><span>大约 4 分钟</span><meta property="timeRequired" content="PT4M"></span><span class="page-category-info" aria-label="分类🌈" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon category-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="category icon" name="category"><path d="M148.41 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H148.41c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.311-40.31zM147.556 553.478H429.73c22.263 0 40.311 18.048 40.311 40.31v282.176c0 22.263-18.048 40.312-40.31 40.312H147.555c-22.263 0-40.311-18.049-40.311-40.312V593.79c0-22.263 18.048-40.311 40.31-40.311zM593.927 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H593.927c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.31-40.31zM730.22 920.502H623.926c-40.925 0-74.22-33.388-74.22-74.425V623.992c0-41.038 33.387-74.424 74.425-74.424h222.085c41.038 0 74.424 33.226 74.424 74.067v114.233c0 10.244-8.304 18.548-18.547 18.548s-18.548-8.304-18.548-18.548V623.635c0-20.388-16.746-36.974-37.33-36.974H624.13c-20.585 0-37.331 16.747-37.331 37.33v222.086c0 20.585 16.654 37.331 37.126 37.331H730.22c10.243 0 18.547 8.304 18.547 18.547 0 10.244-8.304 18.547-18.547 18.547z"></path></svg><!--[--><span class="page-category-item color0" role>命令行工具</span><!--]--><meta property="articleSection" content="命令行工具"></span><span class="page-tag-info" aria-label="标签🏷" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon tag-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="tag icon" name="tag"><path d="M939.902 458.563L910.17 144.567c-1.507-16.272-14.465-29.13-30.737-30.737L565.438 84.098h-.402c-3.215 0-5.726 1.005-7.634 2.913l-470.39 470.39a10.004 10.004 0 000 14.164l365.423 365.424c1.909 1.908 4.42 2.913 7.132 2.913s5.223-1.005 7.132-2.913l470.39-470.39c2.01-2.11 3.014-5.023 2.813-8.036zm-240.067-72.121c-35.458 0-64.286-28.828-64.286-64.286s28.828-64.285 64.286-64.285 64.286 28.828 64.286 64.285-28.829 64.286-64.286 64.286z"></path></svg><!--[--><span class="page-tag-item color2" role>Linux</span><span class="page-tag-item color0" role>日志管理</span><!--]--><meta property="keywords" content="Linux,日志管理"></span></div><hr></div><!----><div class="" vp-content><!----><div id="markdown-content"><h1 id="logrotate-日志文件轮转" tabindex="-1"><a class="header-anchor" href="#logrotate-日志文件轮转"><span>logrotate - 日志文件轮转</span></a></h1><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 调试，并不会真正的运行</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">logrotate</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -d</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /etc/logrotate.conf</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-text line-numbers-mode" data-highlighter="shiki" data-ext="text" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>compress                            #通过gzip 压缩转储以后的日志</span></span>
<span class="line"><span>nocompress                          #不做gzip压缩处理</span></span>
<span class="line"><span>copytruncate                        #用于还在打开中的日志文件，把当前日志备份并截断；是先拷贝再清空的方式，拷贝和清空之间有一个时间差，可能会丢失部分日志数据。</span></span>
<span class="line"><span>nocopytruncate                      #备份日志文件不过不截断</span></span>
<span class="line"><span>create mode owner group             #轮转时指定创建新文件的属性，如create 0777 nobody nobody</span></span>
<span class="line"><span>nocreate                            #不建立新的日志文件</span></span>
<span class="line"><span>delaycompress                      #和compress 一起使用时，转储的日志文件到下一次转储时才压缩</span></span>
<span class="line"><span>nodelaycompress                    #覆盖 delaycompress 选项，转储同时压缩。</span></span>
<span class="line"><span>missingok                          #如果日志丢失，不报错继续滚动下一个日志</span></span>
<span class="line"><span>errors address                     #专储时的错误信息发送到指定的Email 地址</span></span>
<span class="line"><span>ifempty                            #即使日志文件为空文件也做轮转，这个是logrotate的缺省选项。</span></span>
<span class="line"><span>notifempty                         #当日志文件为空时，不进行轮转</span></span>
<span class="line"><span>mail address                       #把转储的日志文件发送到指定的E-mail 地址</span></span>
<span class="line"><span>nomail                             #转储时不发送日志文件</span></span>
<span class="line"><span>olddir directory                   #转储后的日志文件放入指定的目录，必须和当前日志文件在同一个文件系统</span></span>
<span class="line"><span>noolddir                           #转储后的日志文件和当前日志文件放在同一个目录下</span></span>
<span class="line"><span>sharedscripts                      #运行postrotate脚本，作用是在所有日志都轮转后统一执行一次脚本。如果没有配置这个，那么每个日志轮转后都会执行一次脚本</span></span>
<span class="line"><span>prerotate          endscript                #在logrotate转储之前需要执行的指令，例如修改文件的属性等动作；必须独立成行</span></span>
<span class="line"><span>postrotate         endscript                #在logrotate转储之后需要执行的指令，例如重新启动 (kill -HUP) 某个服务！必须独立成行</span></span>
<span class="line"><span>daily                              #指定转储周期为每天</span></span>
<span class="line"><span>weekly                             #指定转储周期为每周</span></span>
<span class="line"><span>monthly                            #指定转储周期为每月</span></span>
<span class="line"><span>rotate count                       #指定日志文件删除之前转储的次数，0 指没有备份，5 指保留5 个备份</span></span>
<span class="line"><span>dateext                            #使用当期日期作为命名格式</span></span>
<span class="line"><span>dateformat .%s                     #配合dateext使用，紧跟在下一行出现，定义文件切割后的文件名，必须配合dateext使用，只支持 %Y %m %d %s 这四个参数</span></span>
<span class="line"><span>size(或minsize) log-size           #当日志文件到达指定的大小时才转储，log-size能指定bytes(缺省)及KB (sizek)或MB(sizem).</span></span>
<span class="line"><span>当日志文件 &gt;= log-size 的时候就转储。 以下为合法格式：（其他格式的单位大小写没有试过）</span></span>
<span class="line"><span>size = 5 或 size 5 （&gt;= 5 个字节就转储）#满足size就滚动一次，size参数跟滚动周期参数：hourly、daily、monthly、yearly完全是互斥的。即一旦设置了size参数，滚动周期参数就自动无效了，只要每次执行logrotate指令时，日志文件大小超过size，就会触发一次滚动，没有滚动周期一说了</span></span>
<span class="line"><span>size = 100k 或 size 100k</span></span>
<span class="line"><span>size = 100M 或 size 100M</span></span>
<span class="line"><span>maxsize 100k    #一般用于多次轮询；当执行logrorate指令时，只要日志的大小超过100k，即使时间没到下一个滚动周期内，也会发生滚动。那么同一小时内0:00--0:59就会发生多次滚动。换句话说，如果demo.txt的大小一直没有达到maxsize，那么一个滚动周期就只会发生一次滚动，即当前滚动周期内第一次执行logrorate指令就会触发滚动。以后的59分钟都不会发生滚动。maxsize可以使滚动提前发生，再下一个滚动周期到来之前发生多次滚动。即每满足maxsize就滚动一次，不满足则滚动1次，（每个滚动周期内，n次或1次）</span></span>
<span class="line"><span>【maxsize size】： Log files are rotated when they grow bigger than size bytes even before the additionally specified time interval (daily, weekly, monthly, or yearly).  The related size  option is  similar except that it is mutually exclusive with the time interval options, and it causes log files to be rotated without regard for the last rotation time.  When maxsize is used, both the size and timestamp of a log file are considered.</span></span>
<span class="line"><span>minsize   100k     #一个滚动周期内只会发生一次滚动，在当前滚动周期后面的时间里，即使日志大小再次超过100k，也不会再发生滚动，即minsize不能使滚动提前发生。如果日志的大小一直没有达到minsize，那么这个滚动周期内是不会触发滚动的。即满足minsize则滚动一次，不满足则滚动0次，(每个滚动周期内，1次或0次)。</span></span>
<span class="line"><span>maxage  60     #自动删除掉超过maxage指定天数的切割后的归档文件，即最大保留60天；相对于rotate按文件数，它是以天数为单位的</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><!----><!----><!----></div><footer class="vp-page-meta"><!----><div class="vp-meta-item git-info"><div class="update-time"><span class="vp-meta-label">最近更新：</span><time class="vp-meta-info" datetime="2025-05-13T14:59:32.000Z" data-allow-mismatch>2025/5/13 14:59</time></div><div class="contributors"><span class="vp-meta-label">贡献者: </span><!--[--><!--[--><span class="vp-meta-info" title="email: xiangcheng03@corp.netease.com">向成</span><!--]--><!--]--></div></div></footer><nav class="vp-page-nav"><a class="route-link auto-link prev" href="/notes/linux/%E5%91%BD%E4%BB%A4%E8%A1%8C%E5%B7%A5%E5%85%B7/grep.html" aria-label="grep - 行文本过滤"><div class="hint"><span class="arrow start"></span>上一页</div><div class="link"><!---->grep - 行文本过滤</div></a><a class="route-link auto-link next" href="/notes/linux/%E5%91%BD%E4%BB%A4%E8%A1%8C%E5%B7%A5%E5%85%B7/sed.html" aria-label="sed - 行文本修改"><div class="hint">下一页<span class="arrow end"></span></div><div class="link">sed - 行文本修改<!----></div></a></nav><!----><!----><!--]--></main><!--]--><footer class="vp-footer-wrapper" vp-footer><div class="vp-footer">
        <a href="https://beian.miit.gov.cn/" target="_blank">浙ICP备2023000655号</a> |
        由
        <a href="https://v2.vuepress.vuejs.org/zh/" target="_blank">
            <img alt=""
                src="/assets/images/vuepress.png"
                height="20px"
                style="vertical-align: bottom"
            />VuePress
        </a> 驱动 |
        主题采用
        <a href="https://theme-hope.vuejs.press/zh/" target="_blank" >
            <img alt=""
                src="/logo.svg"
                height="20px"
                style="vertical-align: bottom"
            />Hope
        </a></div><div class="vp-copyright">Copyright © 2024 大橙</div></footer></div><!--]--><!--[--><!----><!--[--><!--]--><!--]--><!--]--></div>
    <script type="module" src="/assets/app-BiJCinoJ.js" defer></script>
  </body>
</html>
