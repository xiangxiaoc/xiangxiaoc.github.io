import{_ as i}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as e,d as a,o as t}from"./app-CKFX-U-N.js";const l={};function h(n,s){return t(),e("div",null,s[0]||(s[0]=[a(`<h1 id="cluster-管理多-k8s-集群" tabindex="-1"><a class="header-anchor" href="#cluster-管理多-k8s-集群"><span>cluster - 管理多 K8s 集群</span></a></h1><h1 id="argo-cd-cluster-命令文档" tabindex="-1"><a class="header-anchor" href="#argo-cd-cluster-命令文档"><span>Argo CD cluster 命令文档</span></a></h1><h2 id="一、概述" tabindex="-1"><a class="header-anchor" href="#一、概述"><span>一、概述</span></a></h2><p><code>argocd cluster</code> 命令用于管理 Argo CD 中的集群相关信息，包括添加、列出、获取、删除集群配置等操作，在处理多集群环境下的应用部署时非常关键。</p><h2 id="二、常用操作示例" tabindex="-1"><a class="header-anchor" href="#二、常用操作示例"><span>二、常用操作示例</span></a></h2><h3 id="一-添加集群" tabindex="-1"><a class="header-anchor" href="#一-添加集群"><span>（一）添加集群</span></a></h3><ol><li><strong>命令格式</strong></li></ol><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">argocd</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> cluster</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> add</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> &lt;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">cluster_nam</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">e&gt; </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">--server</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> &lt;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">cluster_server_ur</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">l&gt; [--insecure-skip-server-verification] [--grpc-web-root-path </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">&lt;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">path</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">&gt;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">] [--config </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">&lt;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">config_file_path</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">&gt;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">]</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ol start="2"><li><strong>操作步骤</strong><ul><li>例如，要添加一个名为 <code>my-cluster</code>，服务器地址为 <code>https://my-kubernetes-cluster.com</code> 的集群：</li></ul></li></ol><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">argocd</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> cluster</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> add</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> my-cluster</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --server</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> https://my-kubernetes-cluster.com</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ul><li>如果集群使用了自签名证书且希望跳过服务器验证，可以添加 <code>--insecure-skip-server-verification</code> 参数：</li></ul><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">argocd</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> cluster</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> add</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> my-cluster</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --server</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> https://my-kubernetes-cluster.com</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --insecure-skip-server-verification</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="二-列出集群" tabindex="-1"><a class="header-anchor" href="#二-列出集群"><span>（二）列出集群</span></a></h3><ol><li><strong>命令格式</strong></li></ol><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">argocd</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> cluster</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> list</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ol start="2"><li><strong>操作步骤</strong> 执行此命令可以列出所有已添加到 Argo CD 的集群信息，包括集群名称、服务器地址等：</li></ol><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">$</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> argocd</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> cluster</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> list</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">NAME</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">        SERVER</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">                    VERSION</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  STATUS</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">      MESSAGE</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">my-cluster</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  https://my-kubernetes-cluster.com</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  v1.23</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">    Successful</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  Cluster</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> has</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> been</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> successfully</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> connected</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="三-获取集群详细信息" tabindex="-1"><a class="header-anchor" href="#三-获取集群详细信息"><span>（三）获取集群详细信息</span></a></h3><ol><li><strong>命令格式</strong></li></ol><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">argocd</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> cluster</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> get</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> &lt;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">cluster_nam</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">e&gt;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ol start="2"><li><strong>操作步骤</strong> 若要获取名为 <code>my-cluster</code> 的集群详细信息，执行：</li></ol><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">argocd</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> cluster</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> get</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> my-cluster</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>这将显示集群的详细配置参数、连接状态等信息。</p><h3 id="四-删除集群" tabindex="-1"><a class="header-anchor" href="#四-删除集群"><span>（四）删除集群</span></a></h3><ol><li><strong>命令格式</strong></li></ol><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">argocd</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> cluster</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> delete</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> &lt;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">cluster_nam</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">e&gt;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ol start="2"><li><strong>操作步骤</strong> 如果要删除名为 <code>my-cluster</code> 的集群，执行：</li></ol><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">argocd</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> cluster</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> delete</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> my-cluster</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h2 id="三、注意事项" tabindex="-1"><a class="header-anchor" href="#三、注意事项"><span>三、注意事项</span></a></h2><ol><li><strong>证书验证问题</strong><ul><li>在添加集群时，如果使用 <code>--insecure-skip-server-verification</code> 参数跳过证书验证，虽然操作方便，但会降低安全性。在生产环境中，应尽量配置正确的证书信任关系，避免使用此选项。</li></ul></li><li><strong>集群连接测试</strong><ul><li>在添加集群后，建议先通过 <code>argocd cluster get</code> 查看集群的状态信息，确保连接正常且没有错误消息。如果遇到连接问题，检查网络配置、证书设置以及集群服务器是否正常运行。</li></ul></li><li><strong>删除集群影响</strong><ul><li>删除集群是一个敏感操作，尤其是当有应用部署在该集群上时。在删除之前，确保相关应用已经迁移或妥善处理，否则可能导致应用部署出现问题。</li></ul></li><li><strong>配置文件使用（可选参数）</strong><ul><li>当使用 <code>--config</code> 参数指定配置文件路径时，要确保文件路径正确且配置内容格式符合要求，否则可能导致添加或修改集群配置失败。</li></ul></li></ol>`,30)]))}const d=i(l,[["render",h]]),p=JSON.parse('{"path":"/notes/CICD/Argo%20CD/argocd%20%E5%91%BD%E4%BB%A4/cluster.html","title":"cluster - 管理多 K8s 集群","lang":"zh-CN","frontmatter":{"date":"2022-01-09T00:00:00.000Z","category":"Argo","tag":["argocd 命令"],"description":"cluster - 管理多 K8s 集群 Argo CD cluster 命令文档 一、概述 argocd cluster 命令用于管理 Argo CD 中的集群相关信息，包括添加、列出、获取、删除集群配置等操作，在处理多集群环境下的应用部署时非常关键。 二、常用操作示例 （一）添加集群 命令格式 操作步骤 例如，要添加一个名为 my-cluster，...","head":[["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"cluster - 管理多 K8s 集群\\",\\"image\\":[\\"\\"],\\"datePublished\\":\\"2022-01-09T00:00:00.000Z\\",\\"dateModified\\":\\"2025-01-02T07:54:44.000Z\\",\\"author\\":[]}"],["meta",{"property":"og:url","content":"https://xiangcheng.site/notes/CICD/Argo%20CD/argocd%20%E5%91%BD%E4%BB%A4/cluster.html"}],["meta",{"property":"og:site_name","content":"大橙的运维宝典"}],["meta",{"property":"og:title","content":"cluster - 管理多 K8s 集群"}],["meta",{"property":"og:description","content":"cluster - 管理多 K8s 集群 Argo CD cluster 命令文档 一、概述 argocd cluster 命令用于管理 Argo CD 中的集群相关信息，包括添加、列出、获取、删除集群配置等操作，在处理多集群环境下的应用部署时非常关键。 二、常用操作示例 （一）添加集群 命令格式 操作步骤 例如，要添加一个名为 my-cluster，..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2025-01-02T07:54:44.000Z"}],["meta",{"property":"article:tag","content":"argocd 命令"}],["meta",{"property":"article:published_time","content":"2022-01-09T00:00:00.000Z"}],["meta",{"property":"article:modified_time","content":"2025-01-02T07:54:44.000Z"}]]},"git":{"createdTime":1732214708000,"updatedTime":1735804484000,"contributors":[{"name":"daCheng","username":"daCheng","email":"xiangxiaoc@outlook.com","commits":3,"url":"https://github.com/daCheng"}]},"readingTime":{"minutes":2.21,"words":663},"filePathRelative":"notes/CICD/Argo CD/argocd 命令/cluster.md","excerpt":"\\n<h1>Argo CD cluster 命令文档</h1>\\n<h2>一、概述</h2>\\n<p><code>argocd cluster</code> 命令用于管理 Argo CD 中的集群相关信息，包括添加、列出、获取、删除集群配置等操作，在处理多集群环境下的应用部署时非常关键。</p>\\n<h2>二、常用操作示例</h2>\\n<h3>（一）添加集群</h3>\\n<ol>\\n<li><strong>命令格式</strong></li>\\n</ol>\\n<div class=\\"language-bash line-numbers-mode\\" data-highlighter=\\"shiki\\" data-ext=\\"bash\\" style=\\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\\"><pre class=\\"shiki shiki-themes one-light one-dark-pro vp-code\\"><code><span class=\\"line\\"><span style=\\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\\">argocd</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> cluster</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> add</span><span style=\\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\\"> &lt;</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\">cluster_nam</span><span style=\\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\\">e&gt; </span><span style=\\"--shiki-light:#986801;--shiki-dark:#D19A66\\">--server</span><span style=\\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\\"> &lt;</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\">cluster_server_ur</span><span style=\\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\\">l&gt; [--insecure-skip-server-verification] [--grpc-web-root-path </span><span style=\\"--shiki-light:#383A42;--shiki-dark:#56B6C2\\">&lt;</span><span style=\\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\\">path</span><span style=\\"--shiki-light:#383A42;--shiki-dark:#56B6C2\\">&gt;</span><span style=\\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\\">] [--config </span><span style=\\"--shiki-light:#383A42;--shiki-dark:#56B6C2\\">&lt;</span><span style=\\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\\">config_file_path</span><span style=\\"--shiki-light:#383A42;--shiki-dark:#56B6C2\\">&gt;</span><span style=\\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\\">]</span></span></code></pre>\\n<div class=\\"line-numbers\\" aria-hidden=\\"true\\" style=\\"counter-reset:line-number 0\\"><div class=\\"line-number\\"></div></div></div>","autoDesc":true}');export{d as comp,p as data};
